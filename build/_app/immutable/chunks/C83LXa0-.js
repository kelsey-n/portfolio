import{aA as x,aB as z,aC as B,d as P,h as S,b as D,l as G,k as M,m as $,U as j,P as R,E as H,aD as J,aE as K,aF as W,v as Z,aG as Q,aH as V,O as X,az as b,al as q,am as L,an as Y,aI as aa,aJ as ra}from"./B5OLWQwI.js";import{a as ta,w as ia}from"./B-kb8TVN.js";function ua(r,a,t){S&&D();var i=r,e=j,n,v=x()?z:B;P(()=>{v(e,e=a())&&(n&&G(n),n=M(()=>t(i)))}),S&&(i=$)}const ea=()=>performance.now(),l={tick:r=>requestAnimationFrame(r),now:()=>ea(),tasks:new Set};function g(){const r=l.now();l.tasks.forEach(a=>{a.c(r)||(l.tasks.delete(a),a.f())}),l.tasks.size!==0&&l.tick(g)}function sa(r){let a;return l.tasks.size===0&&l.tick(g),{promise:new Promise(t=>{l.tasks.add(a={c:r,f:t})}),abort(){l.tasks.delete(a)}}}function N(r,a){ia(()=>{r.dispatchEvent(new CustomEvent(a))})}function na(r){if(r==="float")return"cssFloat";if(r==="offset")return"cssOffset";if(r.startsWith("--"))return r;const a=r.split("-");return a.length===1?a[0]:a[0]+a.slice(1).map(t=>t[0].toUpperCase()+t.slice(1)).join("")}function U(r){const a={},t=r.split(";");for(const i of t){const[e,n]=i.split(":");if(!e||n===void 0)break;const v=na(e.trim());a[v]=n.trim()}return a}const fa=r=>r;function da(r,a,t,i){var e=(r&aa)!==0,n=(r&ra)!==0,v=e&&n,k=(r&Q)!==0,m=v?"both":e?"in":"out",h,c=a.inert,T=a.style.overflow,f,s;function w(){var o=Y,E=R;q(null),L(null);try{return h??(h=t()(a,(i==null?void 0:i())??{},{direction:m}))}finally{q(o),L(E)}}var u={is_global:k,in(){var o;if(a.inert=c,!e){s==null||s.abort(),(o=s==null?void 0:s.reset)==null||o.call(s);return}n||f==null||f.abort(),N(a,"introstart"),f=A(a,w(),s,1,()=>{N(a,"introend"),f==null||f.abort(),f=h=void 0,a.style.overflow=T})},out(o){if(!n){o==null||o(),h=void 0;return}a.inert=!0,N(a,"outrostart"),s=A(a,w(),f,0,()=>{N(a,"outroend"),o==null||o()})},stop:()=>{f==null||f.abort(),s==null||s.abort()}},_=R;if((_.transitions??(_.transitions=[])).push(u),e&&ta){var y=k;if(!y){for(var d=_.parent;d&&d.f&H;)for(;(d=d.parent)&&!(d.f&J););y=!d||(d.f&K)!==0}y&&W(()=>{Z(()=>u.in())})}}function A(r,a,t,i,e){var n=i===1;if(V(a)){var v,k=!1;return X(()=>{if(!k){var _=a({direction:n?"in":"out"});v=A(r,_,t,i,e)}}),{abort:()=>{k=!0,v==null||v.abort()},deactivate:()=>v.deactivate(),reset:()=>v.reset(),t:()=>v.t()}}if(t==null||t.deactivate(),!(a!=null&&a.duration))return e(),{abort:b,deactivate:b,reset:b,t:()=>i};const{delay:m=0,css:h,tick:c,easing:T=fa}=a;var f=[];if(n&&t===void 0&&(c&&c(0,1),h)){var s=U(h(0,1));f.push(s,s)}var w=()=>1-i,u=r.animate(f,{duration:m});return u.onfinish=()=>{var _=(t==null?void 0:t.t())??1-i;t==null||t.abort();var y=i-_,d=a.duration*Math.abs(y),o=[];if(d>0){var E=!1;if(h)for(var F=Math.ceil(d/16.666666666666668),p=0;p<=F;p+=1){var C=_+y*T(p/F),O=U(h(C,1-C));o.push(O),E||(E=O.overflow==="hidden")}E&&(r.style.overflow="hidden"),w=()=>{var I=u.currentTime;return _+y*T(I/d)},c&&sa(()=>{if(u.playState!=="running")return!1;var I=w();return c(I,1-I),!0})}u=r.animate(o,{duration:d,fill:"forwards"}),u.onfinish=()=>{w=()=>i,c==null||c(i,1-i),e()}},{abort:()=>{u&&(u.cancel(),u.effect=null,u.onfinish=b)},deactivate:()=>{e=b},reset:()=>{i===0&&(c==null||c(1,0))},t:()=>w()}}const oa=r=>r;function _a(r,{delay:a=0,duration:t=400,easing:i=oa}={}){const e=+getComputedStyle(r).opacity;return{delay:a,duration:t,easing:i,css:n=>`opacity: ${n*e}`}}export{_a as f,ua as k,da as t};
